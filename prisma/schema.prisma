// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Auth {
  email      String   @unique
  hash       String
  type       String   @default("admin")
  created_at DateTime @default(now())
  last_login DateTime @default(now())
}

model Admin {
  id                  String    @id @unique @default(uuid())
  email               String    @unique
  type                String    @default("admin")
  first_name          String
  last_name           String
  is_profile_complete Boolean   @default(false)
  created_at          DateTime  @default(now())
  default_language    String    @default("en")
  company             Company[]
}

model Company {
  id                  String     @id @unique @default(uuid())
  name                String
  type                String     @default("company")
  is_profile_complete Boolean    @default(false)
  created_at          DateTime   @default(now())
  currency            String
  owner_id            String
  owner               Admin      @relation(fields: [owner_id], references: [id], onDelete: Cascade)
  employees            Employee[]
}

model Employee {
  id                  String   @id @unique @default(uuid())
  first_name          String
  last_name           String
  email               String   @unique
  is_profile_complete Boolean  @default(false)
  created_at          DateTime @default(now())
  company_id          String
  company             Company  @relation(fields: [company_id], references: [id], onDelete: Cascade)
}
